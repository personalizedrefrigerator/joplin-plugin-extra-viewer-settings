body.paginate {
	padding: 0;
	margin: 0;
}

#rendered-md {
	font-size: var(--user-font-size);
	font-family: var(--user-font-family);
}

@media screen {
	body.paginate #joplin-container-content {
		overflow: clip;
	}

	:root {
		--viewer-toolbar-height: 40px;
	}

	.paginated-element.paginated-element, #rendered-md.paginaged-element {
		overflow-y: clip;
		overflow-x: auto;
		scroll-behavior: smooth;

		--margin: 70px;
		height: 100vh;
		width: 100vw;
		padding: 0;
		margin: 0;
		padding-left: calc(var(--margin) / 2);
		padding-right: calc(var(--margin) / 2);
		padding-bottom: 30px !important; /* !important overrides the viewer's default styling */
		padding-top: var(--viewer-toolbar-height);

		--page-pos: calc(var(--page-number) * -100vw);
		column-width: calc(100vw - var(--margin));
		column-gap: var(--margin);
		box-sizing: border-box;

		&.-loading {
			scroll-behavior: auto;
		}
	}

	.viewer-toolbar {
		height: var(--viewer-toolbar-height);
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		display: flex;
		flex-direction: row;
		justify-content: end;

		> button {
			background-color: transparent;
			border: none;
			color: inherit;
			border-radius: 2em;
			padding: 4px;
			cursor: pointer;
			opacity: 0.6;

			border: 2px solid transparent;

			&:focus-visible, &:hover {
				border: 2px solid currentcolor;
				background-color: color-mix(in srgb, currentcolor 10%, transparent 90%);
				opacity: 1;
			}

			transition: 0.2s ease opacity;
		}
	}
}

@media print {
	.reader-button {
		display: none;
	}

	.reader-page-number {
		display: none;
	}

	.viewer-toolbar {
		display: none;
	}
}

.reader-button {
	position: fixed;

	background-color: transparent;
	color: inherit;
	font-weight: bold;
	border: none;
	cursor: pointer;

	opacity: 0.4;
	font-size: 1.5rem;

	top: 45vh;

	&.-left {
		left: 0;
	}

	&.-right {
		right: 0;
	}

	&:hover, &:focus {
		font-size: 1.6rem;
		opacity: 1;
	}

	&[disabled] {
		opacity: 0.1;
	}

	transition: 0.4s ease font-size, 0.4s ease opacity;
}

.reader-page-number {
	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;

	width: min-content;
	margin-left: auto;
	margin-right: auto;

	text-align: center;

	border: none;

	background-color: transparent;
	color: inherit;
}

.viewer-settings-dialog {
	background-color: white;
	color: black;
	opacity: 0;
	border-radius: 2em;

	&[open] {
		opacity: 1;
	}

	/* Animating dialogs: See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog */
	transition: opacity 0.4s ease allow-discrete, display 0.4s ease allow-discrete;
	&::backdrop {
		transition: display 0.4s ease allow-discrete, overlay 0.4s ease allow-discrete;
	}
}

@starting-style {
	.viewer-settings-dialog[open] {
		opacity: 0;
	}
}

@media screen and (prefers-color-scheme: dark) {
	.viewer-settings-dialog {
		background-color: #222;
		color: white;
	}
}